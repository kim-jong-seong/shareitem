<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìš°ë¦¬ì§‘ - Share Item</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        /* í—¤ë” */
        .header {
            padding: 20px 24px;
            border-bottom: 2px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .back-button {
            padding: 8px 16px;
            background: white;
            color: #1976d2;
            border: 2px solid #1976d2;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .back-button:hover {
            background: #e3f2fd;
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }

        .breadcrumb-item {
            cursor: pointer;
            transition: color 0.2s;
        }

        .breadcrumb-item:hover {
            color: #1976d2;
        }

        .breadcrumb-separator {
            color: #999;
        }

        .breadcrumb-current {
            color: #1976d2;
        }

        .header-right {
            display: flex;
            gap: 12px;
        }

        .search-box {
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f5f5f5;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .search-box:hover {
            background: #e0e0e0;
        }

        .search-box span {
            font-size: 18px;
        }

        .temp-badge {
            background: #ff9800;
            color: white;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .temp-badge:hover {
            background: #f57c00;
        }

        /* 3-íŒ¨ë„ ë ˆì´ì•„ì›ƒ */
        .panel-container {
            display: flex;
            height: calc(100vh - 180px);
            min-height: 500px;
        }

        .panel {
            flex: 1;
            border-right: 1px solid #e0e0e0;
            overflow-y: auto;
            background: white;
        }

        .panel:last-child {
            border-right: none;
        }

        .panel-header {
            padding: 16px 20px;
            background: #f5f5f5;
            border-bottom: 1px solid #e0e0e0;
            font-size: 14px;
            font-weight: 600;
            color: #666;
            position: sticky;
            top: 0;
            z-index: 10;
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-height: 56px;
        }

        .panel-header span {
            line-height: 1.4;
        }

        .add-button {
            padding: 6px 12px;
            background: #1976d2;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            flex-shrink: 0;
        }

        .add-button:hover {
            background: #1565c0;
            transform: translateY(-1px);
        }

        .panel-content {
            padding: 12px;
            padding-bottom: 100px;
            position: relative;
            min-height: 200px;
        }

        /* íŒ¨ë„ í•˜ë‹¨ ì¶”ê°€ ë²„íŠ¼ */
        .add-item-footer {
            padding: 12px 16px;
            margin: 8px 0 0 0;
            background: transparent;
            border: 2px dashed transparent;
            border-radius: 6px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            color: transparent;
            font-size: 14px;
            font-weight: 600;
        }

        .add-item-footer:hover {
            background: #f5f5f5;
            border-color: #1976d2;
            color: #1976d2;
        }

        /* ì•„ì´í…œ ì¹´ë“œ */
        .item-card {
            padding: 12px 16px;
            margin-bottom: 8px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
            background: white;
            position: relative;
        }

        .item-card:hover {
            background: #f5f5f5;
            border-color: #1976d2;
            transform: translateX(2px);
        }

        .item-card.active {
            background: #e3f2fd;
            border-color: #1976d2;
            border-width: 2px;
        }

        /* í˜¸ë²„ ì‹œ ì•¡ì…˜ ë²„íŠ¼ */
        .item-card-actions {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            display: none;
            gap: 6px;
        }

        .item-card:hover .item-card-actions {
            display: flex;
        }

        .item-action-btn {
            padding: 8px 10px;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.2s, border-color 0.2s;
            font-weight: 600;
            line-height: 1;
        }

        .edit-btn {
            background: #e3f2fd;
            color: #1976d2;
            border: 1px solid #1976d2;
        }

        .edit-btn:hover {
            background: #bbdefb;
        }

        .temp-btn {
            background: #fff3e0;
            color: #f57c00;
            border: 1px solid #ff9800;
        }

        .temp-btn:hover {
            background: #ffe0b2;
        }

        .delete-btn {
            background: #ffebee;
            color: #d32f2f;
            border: 1px solid #d32f2f;
        }

        .delete-btn:hover {
            background: #ffcdd2;
        }

        .item-icon {
            font-size: 24px;
            flex-shrink: 0;
        }

        .item-info {
            flex: 1;
            min-width: 0;
        }

        .item-name {
            font-size: 15px;
            font-weight: 600;
            color: #333;
            margin-bottom: 4px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .item-meta {
            font-size: 12px;
            color: #999;
            display: flex;
            gap: 8px;
        }

        .item-badge {
            background: #e0e0e0;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 11px;
            font-weight: 600;
        }

        .item-badge.owner {
            background: #fff3e0;
            color: #f57c00;
        }

        /* ìƒì„¸ íŒ¨ë„ */
        .detail-panel {
            padding: 24px;
        }

        .detail-empty {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }

        .detail-empty-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }

        .detail-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid #e0e0e0;
        }

        .detail-icon {
            font-size: 40px;
        }

        .detail-title {
            flex: 1;
        }

        .detail-title h2 {
            font-size: 24px;
            margin-bottom: 4px;
        }

        .detail-title p {
            font-size: 14px;
            color: #666;
        }

        .detail-actions {
            display: flex;
            gap: 8px;
        }

        .action-button {
            padding: 8px 16px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            background: white;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .action-button:hover {
            background: #f5f5f5;
        }

        .action-button.primary {
            background: #1976d2;
            color: white;
            border-color: #1976d2;
        }

        .action-button.primary:hover {
            background: #1565c0;
        }

        .detail-section {
            margin-bottom: 24px;
        }

        .detail-section-title {
            font-size: 14px;
            font-weight: 600;
            color: #666;
            margin-bottom: 12px;
        }

        .detail-field {
            display: flex;
            margin-bottom: 12px;
        }

        .detail-field-label {
            width: 100px;
            font-size: 14px;
            color: #666;
            flex-shrink: 0;
        }

        .detail-field-value {
            flex: 1;
            font-size: 14px;
            color: #333;
            font-weight: 500;
        }

        /* ë¹ˆ ìƒíƒœ */
        .empty-panel {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #999;
            padding: 40px;
            text-align: center;
        }

        .empty-panel-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }

        /* ì„ì‹œë³´ê´€í•¨ */
        .temp-storage {
            background: #fff3e0;
            border: 2px dashed #ff9800;
            border-radius: 8px;
            padding: 16px;
            margin-top: 24px;
        }

        .temp-storage-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .temp-storage-title {
            font-size: 14px;
            font-weight: 600;
            color: #f57c00;
        }

        .temp-item {
            background: white;
            padding: 8px 12px;
            border-radius: 4px;
            margin-bottom: 8px;
            font-size: 13px;
        }

        .temp-item:last-child {
            margin-bottom: 0;
        }

        /* ì„ì‹œë³´ê´€í•¨ ëª¨ë‹¬ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .modal-header {
            padding: 20px 24px;
            border-bottom: 2px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            font-size: 20px;
            font-weight: 600;
            color: #333;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #999;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s;
        }

        .modal-close:hover {
            background-color: #f5f5f5;
            color: #333;
        }

        .modal-body {
            padding: 24px;
            max-height: 60vh;
            overflow-y: auto;
        }

        .temp-item-modal {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: #f5f5f5;
            border-radius: 6px;
            margin-bottom: 12px;
        }

        .temp-item-modal:last-child {
            margin-bottom: 0;
        }

        .temp-item-info {
            flex: 1;
        }

        .temp-item-name {
            font-size: 15px;
            font-weight: 600;
            color: #333;
            margin-bottom: 4px;
        }

        .temp-item-detail {
            font-size: 13px;
            color: #666;
        }

        .remove-button {
            padding: 6px 12px;
            background: white;
            color: #d32f2f;
            border: 2px solid #d32f2f;
            border-radius: 6px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .remove-button:hover {
            background: #ffebee;
        }

        /* ê²€ìƒ‰ ëª¨ë‹¬ */
        .search-input-container {
            margin-bottom: 20px;
        }

        .search-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 15px;
            outline: none;
            transition: all 0.2s;
        }

        .search-input:focus {
            border-color: #1976d2;
        }

        .search-status {
            text-align: center;
            padding: 40px 20px;
            color: #999;
            font-size: 14px;
        }

        .search-result-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: #f5f5f5;
            border-radius: 6px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .search-result-item:hover {
            background: #e3f2fd;
            transform: translateX(4px);
        }

        .search-result-item:last-child {
            margin-bottom: 0;
        }

        .search-result-icon {
            font-size: 32px;
        }

        .search-result-info {
            flex: 1;
        }

        .search-result-name {
            font-size: 15px;
            font-weight: 600;
            color: #333;
            margin-bottom: 4px;
        }

        .search-result-path {
            font-size: 13px;
            color: #666;
        }

        .goto-button {
            padding: 6px 12px;
            background: #1976d2;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .goto-button:hover {
            background: #1565c0;
        }

        /* ì¶”ê°€/ìˆ˜ì • ëª¨ë‹¬ */
        .form-modal .modal-content {
            max-width: 500px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #333;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 10px 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.2s;
            box-sizing: border-box;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #1976d2;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .type-selector {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
        }

        .type-option {
            flex: 1;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            background: white;
        }

        .type-option:hover {
            border-color: #1976d2;
            background: #f5f5f5;
        }

        .type-option.active {
            border-color: #1976d2;
            background: #e3f2fd;
        }

        .type-option-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }

        .type-option-label {
            font-size: 14px;
            font-weight: 600;
            color: #333;
        }

        .modal-footer {
            padding: 16px 24px;
            border-top: 1px solid #e0e0e0;
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }

        .modal-footer button {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .cancel-btn {
            background: white;
            color: #666;
            border: 2px solid #e0e0e0;
        }

        .cancel-btn:hover {
            background: #f5f5f5;
        }

        .submit-btn {
            background: #1976d2;
            color: white;
        }

        .submit-btn:hover {
            background: #1565c0;
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ */
        .panel::-webkit-scrollbar {
            width: 8px;
        }

        .panel::-webkit-scrollbar-track {
            background: #f5f5f5;
        }

        .panel::-webkit-scrollbar-thumb {
            background: #ccc;
            border-radius: 4px;
        }

        .panel::-webkit-scrollbar-thumb:hover {
            background: #999;
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 1024px) {
            .panel-container {
                flex-direction: column;
            }

            .panel {
                border-right: none;
                border-bottom: 1px solid #e0e0e0;
                min-height: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- í—¤ë” -->
        <div class="header">
            <div class="header-left">
                <button class="back-button">â† ë’¤ë¡œ</button>
                <div class="breadcrumb">
                    <span class="breadcrumb-item">ìš°ë¦¬ì§‘</span>
                    <span class="breadcrumb-separator">â€º</span>
                    <span class="breadcrumb-item">ê±°ì‹¤</span>
                    <span class="breadcrumb-separator">â€º</span>
                    <span class="breadcrumb-current">TVì¥</span>
                </div>
            </div>
            <div class="header-right">
                <div class="search-box">
                    <span>ğŸ”</span>
                </div>
                <div class="temp-badge">ğŸ“‹ ì„ì‹œë³´ê´€í•¨ (2)</div>
            </div>
        </div>

        <!-- 3-íŒ¨ë„ ë ˆì´ì•„ì›ƒ -->
        <div class="panel-container">
            <!-- ì™¼ìª½ íŒ¨ë„: í˜•ì œ í•­ëª©ë“¤ -->
            <div class="panel">
                <div class="panel-header">í˜•ì œ í•­ëª©</div>
                <div class="panel-content">
                    <div class="item-card">
                        <div class="item-icon">ğŸ“</div>
                        <div class="item-info">
                            <div class="item-name">ì•ˆë°©</div>
                            <div class="item-meta">
                                <span>ì˜ì—­</span>
                                <span>5ê°œ í•­ëª©</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card active">
                        <div class="item-icon">ğŸ“</div>
                        <div class="item-info">
                            <div class="item-name">ê±°ì‹¤</div>
                            <div class="item-meta">
                                <span>ì˜ì—­</span>
                                <span>3ê°œ í•­ëª©</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card">
                        <div class="item-icon">ğŸ“</div>
                        <div class="item-info">
                            <div class="item-name">ì£¼ë°©</div>
                            <div class="item-meta">
                                <span>ì˜ì—­</span>
                                <span>8ê°œ í•­ëª©</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card">
                        <div class="item-icon">ğŸ“</div>
                        <div class="item-info">
                            <div class="item-name">í™”ì¥ì‹¤</div>
                            <div class="item-meta">
                                <span>ì˜ì—­</span>
                                <span>2ê°œ í•­ëª©</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ì¤‘ì•™ íŒ¨ë„: í•˜ìœ„ í•­ëª©ë“¤ -->
            <div class="panel">
                <div class="panel-header">ê±°ì‹¤ì˜ í•˜ìœ„ í•­ëª©</div>
                <div class="panel-content">
                    <div class="item-card active">
                        <div class="item-icon">ğŸ“¦</div>
                        <div class="item-info">
                            <div class="item-name">TVì¥</div>
                            <div class="item-meta">
                                <span>ë°•ìŠ¤</span>
                                <span>4ê°œ ë¬¼í’ˆ</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card">
                        <div class="item-icon">ğŸ“¦</div>
                        <div class="item-info">
                            <div class="item-name">ì„œëì¥</div>
                            <div class="item-meta">
                                <span>ë°•ìŠ¤</span>
                                <span>12ê°œ ë¬¼í’ˆ</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card">
                        <div class="item-icon">ğŸ“¦</div>
                        <div class="item-info">
                            <div class="item-name">ì†ŒíŒŒ</div>
                            <div class="item-meta">
                                <span>ë¬¼í’ˆ</span>
                                <span class="item-badge owner">ê¹€ì² ìˆ˜</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ì˜¤ë¥¸ìª½ íŒ¨ë„: ìƒì„¸ ì •ë³´ / ì„ì‹œë³´ê´€í•¨ -->
            <div class="panel">
                <div class="panel-header">ìƒì„¸ ì •ë³´</div>
                <div class="detail-panel">
                    <!-- ìƒì„¸ ì •ë³´ í—¤ë” -->
                    <div class="detail-header">
                        <div class="detail-icon">ğŸ“¦</div>
                        <div class="detail-title">
                            <h2>TVì¥</h2>
                            <p>ê±°ì‹¤ > TVì¥</p>
                        </div>
                        <div class="detail-actions">
                            <button class="action-button">âœï¸ ìˆ˜ì •</button>
                            <button class="action-button">ğŸ—‘ï¸ ì‚­ì œ</button>
                        </div>
                    </div>

                    <!-- ê¸°ë³¸ ì •ë³´ -->
                    <div class="detail-section">
                        <div class="detail-section-title">ê¸°ë³¸ ì •ë³´</div>
                        <div class="detail-field">
                            <div class="detail-field-label">ìœ í˜•</div>
                            <div class="detail-field-value">ë°•ìŠ¤</div>
                        </div>
                        <div class="detail-field">
                            <div class="detail-field-label">ìœ„ì¹˜</div>
                            <div class="detail-field-value">ìš°ë¦¬ì§‘ > ê±°ì‹¤</div>
                        </div>
                        <div class="detail-field">
                            <div class="detail-field-label">í•˜ìœ„ í•­ëª©</div>
                            <div class="detail-field-value">4ê°œ</div>
                        </div>
                        <div class="detail-field">
                            <div class="detail-field-label">ìƒì„±ì¼</div>
                            <div class="detail-field-value">2025-01-15 14:30</div>
                        </div>
                        <div class="detail-field">
                            <div class="detail-field-label">ìƒì„±ì</div>
                            <div class="detail-field-value">ê¹€ì² ìˆ˜</div>
                        </div>
                    </div>

                    <!-- í•˜ìœ„ í•­ëª© ë¯¸ë¦¬ë³´ê¸° -->
                    <div class="detail-section">
                        <div class="detail-section-title">í•˜ìœ„ í•­ëª© ë¯¸ë¦¬ë³´ê¸°</div>
                        <div class="item-card">
                            <div class="item-icon">ğŸ®</div>
                            <div class="item-info">
                                <div class="item-name">ë¦¬ëª¨ì»¨</div>
                                <div class="item-meta">
                                    <span>ìˆ˜ëŸ‰: 2ê°œ</span>
                                    <span class="item-badge owner">ê¹€ì² ìˆ˜</span>
                                </div>
                            </div>
                        </div>
                        <div class="item-card">
                            <div class="item-icon">ğŸ”Œ</div>
                            <div class="item-info">
                                <div class="item-name">HDMI ì¼€ì´ë¸”</div>
                                <div class="item-meta">
                                    <span>ìˆ˜ëŸ‰: 3ê°œ</span>
                                    <span class="item-badge owner">ì´ì˜í¬</span>
                                </div>
                            </div>
                        </div>
                        <div class="item-card">
                            <div class="item-icon">ğŸ§</div>
                            <div class="item-info">
                                <div class="item-name">í—¤ë“œí°</div>
                                <div class="item-meta">
                                    <span>ìˆ˜ëŸ‰: 1ê°œ</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ì„ì‹œë³´ê´€í•¨ -->
                    <div class="temp-storage">
                        <div class="temp-storage-header">
                            <div class="temp-storage-title">ğŸ“‹ ì„ì‹œë³´ê´€í•¨ (2)</div>
                            <button class="action-button primary" style="font-size: 12px; padding: 6px 12px;">
                                ì—¬ê¸°ë¡œ ì´ë™
                            </button>
                        </div>
                        <div class="temp-item">
                            <span>ğŸ® ë¦¬ëª¨ì»¨ (2ê°œ)</span>
                            <span style="cursor: pointer;">âŒ</span>
                        </div>
                        <div class="temp-item">
                            <span>ğŸ“± ì¶©ì „ê¸°</span>
                            <span style="cursor: pointer;">âŒ</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì„ì‹œë³´ê´€í•¨ ëª¨ë‹¬ -->
    <div class="modal-overlay" id="tempStorageModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ğŸ“‹ ì„ì‹œë³´ê´€í•¨</h3>
                <button class="modal-close" onclick="closeTempStorageModal()">âœ•</button>
            </div>
            <div class="modal-body">
                <div class="temp-item-modal">
                    <div class="item-icon" style="font-size: 32px;">ğŸ®</div>
                    <div class="temp-item-info">
                        <div class="temp-item-name">ë¦¬ëª¨ì»¨</div>
                        <div class="temp-item-detail">ìˆ˜ëŸ‰: 2ê°œ | ìœ„ì¹˜: ê±°ì‹¤ > TVì¥</div>
                    </div>
                    <button class="remove-button" onclick="removeFromTemp(0)">ì œê±°</button>
                </div>
                <div class="temp-item-modal">
                    <div class="item-icon" style="font-size: 32px;">ğŸ“±</div>
                    <div class="temp-item-info">
                        <div class="temp-item-name">ì¶©ì „ê¸°</div>
                        <div class="temp-item-detail">ìˆ˜ëŸ‰: 1ê°œ | ìœ„ì¹˜: ê±°ì‹¤ > TVì¥</div>
                    </div>
                    <button class="remove-button" onclick="removeFromTemp(1)">ì œê±°</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ê²€ìƒ‰ ëª¨ë‹¬ -->
    <div class="modal-overlay" id="searchModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ğŸ” ë¬¼í’ˆ ê²€ìƒ‰</h3>
                <button class="modal-close" onclick="closeSearchModal()">âœ•</button>
            </div>
            <div class="modal-body">
                <div class="search-input-container">
                    <input 
                        type="text" 
                        class="search-input" 
                        id="searchInput"
                        placeholder="ë¬¼í’ˆëª…ì„ ì…ë ¥í•˜ì„¸ìš”..."
                        autocomplete="off"
                    >
                </div>
                <div id="searchResults">
                    <div class="search-status">ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì¶”ê°€ ëª¨ë‹¬ -->
    <div class="modal-overlay form-modal" id="addModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>í•­ëª© ì¶”ê°€</h3>
                <button class="modal-close" onclick="closeAddModal()">âœ•</button>
            </div>
            <div class="modal-body">
                <div class="type-selector">
                    <div class="type-option" onclick="selectAddType('area')">
                        <div class="type-option-icon">ğŸ“</div>
                        <div class="type-option-label">ì˜ì—­</div>
                    </div>
                    <div class="type-option" onclick="selectAddType('box')">
                        <div class="type-option-icon">ğŸ“¦</div>
                        <div class="type-option-label">ë°•ìŠ¤</div>
                    </div>
                    <div class="type-option active" onclick="selectAddType('item')">
                        <div class="type-option-icon">ğŸ®</div>
                        <div class="type-option-label">ë¬¼í’ˆ</div>
                    </div>
                </div>

                <div class="form-group">
                    <label>ì´ë¦„ *</label>
                    <input type="text" id="addName" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" required>
                </div>

                <div id="addItemFields" style="display: block;">
                    <div class="form-group">
                        <label>ìˆ˜ëŸ‰</label>
                        <input type="number" id="addQuantity" placeholder="1" min="1" value="1">
                    </div>

                    <div class="form-group">
                        <label>ì†Œìœ ì</label>
                        <select id="addOwner">
                            <option value="">ê³µìš©</option>
                            <option value="0000000001">ê¹€ì² ìˆ˜</option>
                            <option value="0000000002">ì´ì˜í¬</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>ë©”ëª¨</label>
                        <textarea id="addMemo" placeholder="ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="cancel-btn" onclick="closeAddModal()">ì·¨ì†Œ</button>
                <button class="submit-btn" onclick="submitAdd()">ì¶”ê°€</button>
            </div>
        </div>
    </div>

    <!-- ìˆ˜ì • ëª¨ë‹¬ -->
    <div class="modal-overlay form-modal" id="editModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>í•­ëª© ìˆ˜ì •</h3>
                <button class="modal-close" onclick="closeEditModal()">âœ•</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>ì´ë¦„ *</label>
                    <input type="text" id="editName" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" required>
                </div>

                <div id="editItemFields" style="display: none;">
                    <div class="form-group">
                        <label>ìˆ˜ëŸ‰</label>
                        <input type="number" id="editQuantity" placeholder="1" min="1" value="1">
                    </div>

                    <div class="form-group">
                        <label>ì†Œìœ ì</label>
                        <select id="editOwner">
                            <option value="">ê³µìš©</option>
                            <option value="0000000001">ê¹€ì² ìˆ˜</option>
                            <option value="0000000002">ì´ì˜í¬</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>ë©”ëª¨</label>
                        <textarea id="editMemo" placeholder="ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="cancel-btn" onclick="closeEditModal()">ì·¨ì†Œ</button>
                <button class="submit-btn" onclick="submitEdit()">ì €ì¥</button>
            </div>
        </div>
    </div>

    <script>
        // ë°ëª¨ ë°ì´í„° êµ¬ì¡°
        const demoData = {
            'ìš°ë¦¬ì§‘': {
                type: 'house',
                children: ['ì•ˆë°©', 'ê±°ì‹¤', 'ì£¼ë°©', 'í™”ì¥ì‹¤']
            },
            'ì•ˆë°©': {
                type: 'area',
                icon: 'ğŸ“',
                parent: 'ìš°ë¦¬ì§‘',
                children: ['ì˜·ì¥', 'ì¹¨ëŒ€', 'í™”ì¥ëŒ€'],
                itemCount: 5
            },
            'ê±°ì‹¤': {
                type: 'area',
                icon: 'ğŸ“',
                parent: 'ìš°ë¦¬ì§‘',
                children: ['TVì¥', 'ì„œëì¥', 'ì†ŒíŒŒ'],
                itemCount: 3
            },
            'ì£¼ë°©': {
                type: 'area',
                icon: 'ğŸ“',
                parent: 'ìš°ë¦¬ì§‘',
                children: ['ëƒ‰ì¥ê³ ', 'ì‹íƒ', 'ì‹±í¬ëŒ€'],
                itemCount: 8
            },
            'í™”ì¥ì‹¤': {
                type: 'area',
                icon: 'ğŸ“',
                parent: 'ìš°ë¦¬ì§‘',
                children: ['ì„¸ë©´ëŒ€', 'ìˆ˜ë‚©ì¥'],
                itemCount: 2
            },
            'TVì¥': {
                type: 'box',
                icon: 'ğŸ“¦',
                parent: 'ê±°ì‹¤',
                children: ['ë¦¬ëª¨ì»¨', 'HDMI ì¼€ì´ë¸”', 'í—¤ë“œí°', 'ì¶©ì „ê¸°'],
                itemCount: 4
            },
            'ì„œëì¥': {
                type: 'box',
                icon: 'ğŸ“¦',
                parent: 'ê±°ì‹¤',
                children: ['ë³¼íœ', 'ë…¸íŠ¸', 'ê°€ìœ„', 'í…Œì´í”„'],
                itemCount: 12
            },
            'ì†ŒíŒŒ': {
                type: 'item',
                icon: 'ğŸ›‹ï¸',
                parent: 'ê±°ì‹¤',
                owner: 'ê¹€ì² ìˆ˜',
                quantity: 1
            },
            'ë¦¬ëª¨ì»¨': {
                type: 'item',
                icon: 'ğŸ®',
                parent: 'TVì¥',
                owner: 'ê¹€ì² ìˆ˜',
                quantity: 2,
                memo: 'ê±´ì „ì§€ êµì²´ í•„ìš”'
            },
            'HDMI ì¼€ì´ë¸”': {
                type: 'item',
                icon: 'ğŸ”Œ',
                parent: 'TVì¥',
                owner: 'ì´ì˜í¬',
                quantity: 3
            },
            'í—¤ë“œí°': {
                type: 'item',
                icon: 'ğŸ§',
                parent: 'TVì¥',
                quantity: 1
            },
            'ì¶©ì „ê¸°': {
                type: 'item',
                icon: 'ğŸ“±',
                parent: 'TVì¥',
                quantity: 1
            }
        };

        // í˜„ì¬ ìœ„ì¹˜ ì¶”ì 
        let currentPath = ['ìš°ë¦¬ì§‘', 'ê±°ì‹¤', 'TVì¥'];

        // íŒ¨ë„ ë Œë”ë§ í•¨ìˆ˜
        function renderPanels() {
            const currentItem = currentPath[currentPath.length - 1];
            const parentItem = currentPath[currentPath.length - 2];
            
            // ë¸Œë ˆë“œí¬ëŸ¼ ì—…ë°ì´íŠ¸
            updateBreadcrumb();
            
            // ì™¼ìª½ íŒ¨ë„: í˜•ì œ í•­ëª©
            renderSiblings(currentItem, parentItem);
            
            // ì¤‘ì•™ íŒ¨ë„: í•˜ìœ„ í•­ëª©
            renderChildren(currentItem);
            
            // ì˜¤ë¥¸ìª½ íŒ¨ë„: ìƒì„¸ ì •ë³´
            renderDetail(currentItem);
        }

        // ë¸Œë ˆë“œí¬ëŸ¼ ì—…ë°ì´íŠ¸
        function updateBreadcrumb() {
            const breadcrumb = document.querySelector('.breadcrumb');
            breadcrumb.innerHTML = '';
            
            currentPath.forEach((item, index) => {
                if (index > 0) {
                    const separator = document.createElement('span');
                    separator.className = 'breadcrumb-separator';
                    separator.textContent = 'â€º';
                    breadcrumb.appendChild(separator);
                }
                
                const span = document.createElement('span');
                if (index === currentPath.length - 1) {
                    span.className = 'breadcrumb-current';
                } else {
                    span.className = 'breadcrumb-item';
                    span.onclick = () => navigateToBreadcrumb(index);
                }
                span.textContent = item;
                breadcrumb.appendChild(span);
            });
        }

        // ì™¼ìª½ íŒ¨ë„: í˜•ì œ í•­ëª© ë Œë”ë§
        function renderSiblings(current, parent) {
            const leftPanel = document.querySelectorAll('.panel')[0];
            const header = leftPanel.querySelector('.panel-header');
            const content = leftPanel.querySelector('.panel-content');
            
            if (parent && demoData[parent]) {
                header.textContent = `${parent}ì˜ í•˜ìœ„ í•­ëª©`;
                content.innerHTML = '';
                
                demoData[parent].children.forEach(siblingName => {
                    const sibling = demoData[siblingName];
                    if (sibling) {
                        const card = createItemCard(siblingName, sibling, current === siblingName);
                        // ì™¼ìª½ íŒ¨ë„: ë‹¨ì¼ í´ë¦­ë§Œ (ì¤‘ì•™ íŒ¨ë„ ì—…ë°ì´íŠ¸)
                        card.onclick = (e) => {
                            // ë²„íŠ¼ í´ë¦­ ì‹œ ì´ë²¤íŠ¸ ì „íŒŒ ë°©ì§€
                            if (e.target.closest('.item-card-actions')) return;
                            
                            document.querySelectorAll('.panel')[0].querySelectorAll('.item-card').forEach(c => {
                                c.classList.remove('active');
                            });
                            card.classList.add('active');
                            renderChildren(siblingName);
                            renderDetail(siblingName);
                        };
                        content.appendChild(card);
                    }
                });
                
                // í•˜ë‹¨ ì¶”ê°€ ë²„íŠ¼
                const footer = document.createElement('div');
                footer.className = 'add-item-footer';
                footer.textContent = '+ í•­ëª© ì¶”ê°€';
                footer.onclick = () => openAddModal(parent);
                content.appendChild(footer);
            } else {
                // ìµœìƒìœ„ ë ˆë²¨: ì§‘ ì´ë¦„ í‘œì‹œ
                header.textContent = 'ì§‘';
                content.innerHTML = '';
                
                const houseCard = document.createElement('div');
                houseCard.className = 'item-card active';
                houseCard.innerHTML = `
                    <div class="item-icon">ğŸ </div>
                    <div class="item-info">
                        <div class="item-name">ìš°ë¦¬ì§‘</div>
                        <div class="item-meta">
                            <span>ì§‘</span>
                            <span>${demoData['ìš°ë¦¬ì§‘'].children.length}ê°œ ì˜ì—­</span>
                        </div>
                    </div>
                `;
                content.appendChild(houseCard);
                
                // ìµœìƒìœ„ì—ëŠ” ì¶”ê°€ ë²„íŠ¼ ì—†ìŒ
            }
        }

        // ì¤‘ì•™ íŒ¨ë„: í•˜ìœ„ í•­ëª© ë Œë”ë§
        function renderChildren(itemName) {
            const centerPanel = document.querySelectorAll('.panel')[1];
            const header = centerPanel.querySelector('.panel-header');
            const content = centerPanel.querySelector('.panel-content');
            
            const item = demoData[itemName];
            
            if (item && item.children && item.children.length > 0) {
                header.innerHTML = `
                    <span>${itemName}ì˜ í•˜ìœ„ í•­ëª©</span>
                    <button class="add-button" onclick="openAddModal('${itemName}')">+ ì¶”ê°€</button>
                `;
                content.innerHTML = '';
                
                item.children.forEach(childName => {
                    const child = demoData[childName];
                    if (child) {
                        const card = createItemCard(childName, child, false);
                        card.onclick = (e) => {
                            // ë²„íŠ¼ í´ë¦­ ì‹œ ì´ë²¤íŠ¸ ì „íŒŒ ë°©ì§€
                            if (e.target.closest('.item-card-actions')) return;
                            
                            document.querySelectorAll('.panel')[1].querySelectorAll('.item-card').forEach(c => {
                                c.classList.remove('active');
                            });
                            card.classList.add('active');
                            renderDetail(childName);
                        };
                        card.ondblclick = (e) => {
                            // ë²„íŠ¼ í´ë¦­ ì‹œ ì´ë²¤íŠ¸ ì „íŒŒ ë°©ì§€
                            if (e.target.closest('.item-card-actions')) return;
                            
                            if (child.type !== 'item') {
                                drillDown(childName);
                            }
                        };
                        content.appendChild(card);
                    }
                });
                
                // í•˜ë‹¨ ì¶”ê°€ ë²„íŠ¼
                const footer = document.createElement('div');
                footer.className = 'add-item-footer';
                footer.textContent = '+ í•­ëª© ì¶”ê°€';
                footer.onclick = () => openAddModal(itemName);
                content.appendChild(footer);
            } else {
                header.innerHTML = `
                    <span>${itemName}ì˜ í•˜ìœ„ í•­ëª©</span>
                    <button class="add-button" onclick="openAddModal('${itemName}')">+ ì¶”ê°€</button>
                `;
                content.innerHTML = '<div class="empty-panel"><div class="empty-panel-icon">ğŸ“­</div><p>í•˜ìœ„ í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤</p></div>';
                
                // ë¹ˆ ìƒíƒœì—ë„ í•˜ë‹¨ ì¶”ê°€ ë²„íŠ¼
                const footer = document.createElement('div');
                footer.className = 'add-item-footer';
                footer.textContent = '+ í•­ëª© ì¶”ê°€';
                footer.onclick = () => openAddModal(itemName);
                content.appendChild(footer);
            }
        }

        // ì˜¤ë¥¸ìª½ íŒ¨ë„: ìƒì„¸ ì •ë³´ ë Œë”ë§
        function renderDetail(itemName) {
            const rightPanel = document.querySelectorAll('.panel')[2];
            const detailPanel = rightPanel.querySelector('.detail-panel');
            
            const item = demoData[itemName];
            if (!item) return;
            
            let html = `
                <div class="detail-header">
                    <div class="detail-icon">${item.icon || 'ğŸ“¦'}</div>
                    <div class="detail-title">
                        <h2>${itemName}</h2>
                        <p>${getFullPath(itemName)}</p>
                    </div>
                    <div class="detail-actions">
                        <button class="action-button">âœï¸ ìˆ˜ì •</button>
                        <button class="action-button">ğŸ—‘ï¸ ì‚­ì œ</button>
                    </div>
                </div>
                
                <div class="detail-section">
                    <div class="detail-section-title">ê¸°ë³¸ ì •ë³´</div>
                    <div class="detail-field">
                        <div class="detail-field-label">ìœ í˜•</div>
                        <div class="detail-field-value">${getTypeName(item.type)}</div>
                    </div>
                    <div class="detail-field">
                        <div class="detail-field-label">ìœ„ì¹˜</div>
                        <div class="detail-field-value">${getFullPath(itemName)}</div>
                    </div>
            `;
            
            if (item.type === 'item') {
                // ìˆ˜ëŸ‰ì´ 1ê°œê°€ ì•„ë‹ ë•Œë§Œ í‘œì‹œ
                if (item.quantity && item.quantity > 1) {
                    html += `
                        <div class="detail-field">
                            <div class="detail-field-label">ìˆ˜ëŸ‰</div>
                            <div class="detail-field-value">${item.quantity}ê°œ</div>
                        </div>
                    `;
                }
                if (item.owner) {
                    html += `
                        <div class="detail-field">
                            <div class="detail-field-label">ì†Œìœ ì</div>
                            <div class="detail-field-value">${item.owner}</div>
                        </div>
                    `;
                }
                if (item.memo) {
                    html += `
                        <div class="detail-field">
                            <div class="detail-field-label">ë©”ëª¨</div>
                            <div class="detail-field-value">${item.memo}</div>
                        </div>
                    `;
                }
            } else {
                html += `
                    <div class="detail-field">
                        <div class="detail-field-label">í•˜ìœ„ í•­ëª©</div>
                        <div class="detail-field-value">${item.itemCount || item.children?.length || 0}ê°œ</div>
                    </div>
                `;
            }
            
            html += `
                    <div class="detail-field">
                        <div class="detail-field-label">ìƒì„±ì¼</div>
                        <div class="detail-field-value">2025-01-15 14:30</div>
                    </div>
                </div>
            `;
            
            // í•˜ìœ„ í•­ëª© ë¯¸ë¦¬ë³´ê¸° (ì˜ì—­/ë°•ìŠ¤ë§Œ)
            if (item.children && item.children.length > 0 && item.type !== 'item') {
                html += `
                    <div class="detail-section">
                        <div class="detail-section-title">í•˜ìœ„ í•­ëª© ë¯¸ë¦¬ë³´ê¸°</div>
                `;
                item.children.slice(0, 3).forEach(childName => {
                    const child = demoData[childName];
                    if (child) {
                        html += `
                            <div class="item-card">
                                <div class="item-icon">${child.icon}</div>
                                <div class="item-info">
                                    <div class="item-name">${childName}</div>
                                    <div class="item-meta">
                                        ${child.quantity ? `<span>ìˆ˜ëŸ‰: ${child.quantity}ê°œ</span>` : ''}
                                        ${child.owner ? `<span class="item-badge owner">${child.owner}</span>` : ''}
                                    </div>
                                </div>
                            </div>
                        `;
                    }
                });
                html += '</div>';
            }
            
            // ì„ì‹œë³´ê´€í•¨ (ì˜ì—­/ë°•ìŠ¤ë§Œ í‘œì‹œ)
            if (item.type === 'area' || item.type === 'box') {
                html += `
                    <div class="temp-storage">
                        <div class="temp-storage-header">
                            <div class="temp-storage-title">ğŸ“‹ ì„ì‹œë³´ê´€í•¨ (2)</div>
                            <button class="action-button primary" style="font-size: 12px; padding: 6px 12px;" onclick="moveToHere()">
                                ì—¬ê¸°ë¡œ ì´ë™
                            </button>
                        </div>
                        <div class="temp-item">
                            <span>ğŸ® ë¦¬ëª¨ì»¨ (2ê°œ)</span>
                        </div>
                        <div class="temp-item">
                            <span>ğŸ“± ì¶©ì „ê¸°</span>
                        </div>
                    </div>
                `;
            }
            
            detailPanel.innerHTML = html;
        }

        // ì•„ì´í…œ ì¹´ë“œ ìƒì„±
        function createItemCard(name, item, isActive) {
            const card = document.createElement('div');
            card.className = 'item-card' + (isActive ? ' active' : '');
            
            let meta = '';
            if (item.type === 'item') {
                // ìˆ˜ëŸ‰ì´ 1ê°œê°€ ì•„ë‹ ë•Œë§Œ í‘œì‹œ
                if (item.quantity && item.quantity > 1) {
                    meta = `<span>ìˆ˜ëŸ‰: ${item.quantity}ê°œ</span>`;
                }
                if (item.owner) {
                    meta += `<span class="item-badge owner">${item.owner}</span>`;
                }
            } else {
                meta = `<span>${getTypeName(item.type)}</span><span>${item.itemCount || item.children?.length || 0}ê°œ í•­ëª©</span>`;
            }
            
            card.innerHTML = `
                <div class="item-icon">${item.icon || 'ğŸ“¦'}</div>
                <div class="item-info">
                    <div class="item-name">${name}</div>
                    <div class="item-meta">${meta}</div>
                </div>
                <div class="item-card-actions">
                    <button class="item-action-btn temp-btn" onclick="addToTemp(event, '${name}')" title="ì„ì‹œë³´ê´€í•¨ìœ¼ë¡œ">ğŸ“‹</button>
                    <button class="item-action-btn edit-btn" onclick="editItem(event, '${name}')" title="ìˆ˜ì •">âœï¸</button>
                    <button class="item-action-btn delete-btn" onclick="deleteItem(event, '${name}')" title="ì‚­ì œ">ğŸ—‘ï¸</button>
                </div>
            `;
            
            return card;
        }

        // ë“œë¦´ë‹¤ìš´ (ë”ë¸”í´ë¦­)
        function drillDown(itemName) {
            const item = demoData[itemName];
            if (!item || item.type === 'item') return;
            
            // ê²½ë¡œì— ì¶”ê°€
            const currentIndex = currentPath.indexOf(itemName);
            if (currentIndex !== -1) {
                // ì´ë¯¸ ê²½ë¡œì— ìˆìœ¼ë©´ ê·¸ ìœ„ì¹˜ë¡œ ì´ë™
                currentPath = currentPath.slice(0, currentIndex + 1);
            } else {
                // ìƒˆë¡œìš´ í•­ëª©ì´ë©´ ê²½ë¡œì— ì¶”ê°€
                currentPath.push(itemName);
            }
            
            renderPanels();
        }

        // ë¸Œë ˆë“œí¬ëŸ¼ í´ë¦­ìœ¼ë¡œ ì´ë™
        function navigateToBreadcrumb(index) {
            currentPath = currentPath.slice(0, index + 1);
            renderPanels();
        }

        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
        function getTypeName(type) {
            const types = {
                'house': 'ì§‘',
                'area': 'ì˜ì—­',
                'box': 'ë°•ìŠ¤',
                'item': 'ë¬¼í’ˆ'
            };
            return types[type] || type;
        }

        function getFullPath(itemName) {
            const path = [];
            let current = itemName;
            
            while (current && demoData[current]) {
                path.unshift(current);
                current = demoData[current].parent;
            }
            
            return path.join(' > ');
        }

        // ë’¤ë¡œ ë²„íŠ¼
        document.querySelector('.back-button').addEventListener('click', function() {
            if (currentPath.length > 2) {
                currentPath.pop();
                renderPanels();
            } else {
                alert('ì§‘ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤');
            }
        });

        // ì„ì‹œë³´ê´€í•¨ ë°°ì§€ í´ë¦­
        document.querySelector('.temp-badge').addEventListener('click', function() {
            openTempStorageModal();
        });

        // ì„ì‹œë³´ê´€í•¨ ëª¨ë‹¬ ì—´ê¸°
        function openTempStorageModal() {
            document.getElementById('tempStorageModal').classList.add('active');
        }

        // ì„ì‹œë³´ê´€í•¨ ëª¨ë‹¬ ë‹«ê¸°
        function closeTempStorageModal() {
            document.getElementById('tempStorageModal').classList.remove('active');
        }

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        document.getElementById('tempStorageModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeTempStorageModal();
            }
        });

        // ì„ì‹œë³´ê´€í•¨ì—ì„œ ì œê±°
        function removeFromTemp(index) {
            alert(`ì„ì‹œë³´ê´€í•¨ í•­ëª© ${index + 1}ì„(ë¥¼) ì œê±°í–ˆìŠµë‹ˆë‹¤`);
            // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ ë°ì´í„° ì—…ë°ì´íŠ¸ ë° UI ê°±ì‹ 
        }

        // ì—¬ê¸°ë¡œ ì´ë™ ë²„íŠ¼
        function moveToHere() {
            const currentItem = currentPath[currentPath.length - 1];
            alert(`ì„ì‹œë³´ê´€í•¨ì˜ ë¬¼í’ˆë“¤ì„ "${currentItem}"(ìœ¼)ë¡œ ì´ë™í•©ë‹ˆë‹¤`);
            // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ ë¬¼í’ˆ ì´ë™ ì²˜ë¦¬
        }

        // ê²€ìƒ‰ ê´€ë ¨ ë³€ìˆ˜
        let searchTimer = null;
        let searchResults = [];

        // ê²€ìƒ‰ ë°•ìŠ¤ í´ë¦­ ì‹œ ëª¨ë‹¬ ì—´ê¸°
        document.querySelector('.search-box').addEventListener('click', function() {
            openSearchModal();
        });

        // ê²€ìƒ‰ ëª¨ë‹¬ ì—´ê¸°
        function openSearchModal() {
            document.getElementById('searchModal').classList.add('active');
            document.getElementById('searchInput').focus();
        }

        // ê²€ìƒ‰ ëª¨ë‹¬ ë‹«ê¸°
        function closeSearchModal() {
            document.getElementById('searchModal').classList.remove('active');
            document.getElementById('searchInput').value = '';
            document.getElementById('searchResults').innerHTML = '<div class="search-status">ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</div>';
        }

        // ê²€ìƒ‰ ì…ë ¥ ì²˜ë¦¬ (1.5ì´ˆ debounce)
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const query = e.target.value.trim();
            
            // ì´ì „ íƒ€ì´ë¨¸ ì·¨ì†Œ
            clearTimeout(searchTimer);
            
            if (query.length === 0) {
                document.getElementById('searchResults').innerHTML = '<div class="search-status">ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</div>';
                return;
            }
            
            // ì…ë ¥ ì¤‘ í‘œì‹œ
            document.getElementById('searchResults').innerHTML = '<div class="search-status">ê²€ìƒ‰ ì¤‘...</div>';
            
            // 1.5ì´ˆ í›„ ê²€ìƒ‰ ì‹¤í–‰
            searchTimer = setTimeout(() => {
                performSearch(query);
            }, 1500);
        });

        // ê²€ìƒ‰ ì‹¤í–‰
        function performSearch(query) {
            const results = [];
            const lowerQuery = query.toLowerCase();
            
            // ëª¨ë“  ë°ì´í„°ì—ì„œ ê²€ìƒ‰
            for (const [name, item] of Object.entries(demoData)) {
                if (name.toLowerCase().includes(lowerQuery) && item.type !== 'house') {
                    results.push({
                        name: name,
                        item: item,
                        path: getFullPath(name)
                    });
                }
            }
            
            searchResults = results;
            displaySearchResults(results, query);
        }

        // ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ
        function displaySearchResults(results, query) {
            const container = document.getElementById('searchResults');
            
            if (results.length === 0) {
                container.innerHTML = `<div class="search-status">
                    "${query}"ì— ëŒ€í•œ ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤
                </div>`;
                return;
            }
            
            container.innerHTML = '';
            results.forEach((result, index) => {
                const resultDiv = document.createElement('div');
                resultDiv.className = 'search-result-item';
                resultDiv.innerHTML = `
                    <div class="search-result-icon">${result.item.icon || 'ğŸ“¦'}</div>
                    <div class="search-result-info">
                        <div class="search-result-name">${result.name}</div>
                        <div class="search-result-path">${result.path}</div>
                    </div>
                    <button class="goto-button" onclick="goToSearchResult(${index})">ì´ë™</button>
                `;
                container.appendChild(resultDiv);
            });
        }

        // ê²€ìƒ‰ ê²°ê³¼ë¡œ ì´ë™
        function goToSearchResult(index) {
            const result = searchResults[index];
            const item = demoData[result.name];
            
            // ê²½ë¡œ ì¬êµ¬ì„±
            const pathArray = result.path.split(' > ');
            
            // ë¬¼í’ˆì¸ ê²½ìš°: ìƒìœ„ ì»¨í…Œì´ë„ˆê¹Œì§€ë§Œ ê²½ë¡œ ì„¤ì •
            if (item.type === 'item') {
                // ë¬¼í’ˆì˜ ë¶€ëª¨ê¹Œì§€ë§Œ ê²½ë¡œë¡œ ì„¤ì •
                currentPath = pathArray.slice(0, -1); // ë§ˆì§€ë§‰(ë¬¼í’ˆ) ì œì™¸
            } else {
                // ì˜ì—­/ë°•ìŠ¤ì¸ ê²½ìš°: í•´ë‹¹ ìœ„ì¹˜ë¡œ ì´ë™
                currentPath = pathArray;
            }
            
            // íŒ¨ë„ ë Œë”ë§
            renderPanels();
            
            // ë¬¼í’ˆì¸ ê²½ìš°: ì¤‘ì•™ íŒ¨ë„ì—ì„œ í•´ë‹¹ ë¬¼í’ˆì„ ì„ íƒ ìƒíƒœë¡œ í‘œì‹œ
            if (item.type === 'item') {
                setTimeout(() => {
                    // ì¤‘ì•™ íŒ¨ë„ì˜ ëª¨ë“  ì¹´ë“œì—ì„œ active ì œê±°
                    document.querySelectorAll('.panel')[1].querySelectorAll('.item-card').forEach(card => {
                        card.classList.remove('active');
                        
                        // í•´ë‹¹ ë¬¼í’ˆ ì¹´ë“œë¥¼ ì°¾ì•„ì„œ active ì¶”ê°€
                        const cardName = card.querySelector('.item-name').textContent;
                        if (cardName === result.name) {
                            card.classList.add('active');
                            card.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        }
                    });
                    
                    // ìƒì„¸ ì •ë³´ë„ í‘œì‹œ
                    renderDetail(result.name);
                }, 100);
            }
            
            // ëª¨ë‹¬ ë‹«ê¸°
            closeSearchModal();
            
            alert(`"${result.name}"(ìœ¼)ë¡œ ì´ë™í–ˆìŠµë‹ˆë‹¤`);
        }

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        document.getElementById('searchModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeSearchModal();
            }
        });

        // ì¶”ê°€ ëª¨ë‹¬ ì—´ê¸°
        function openAddModal(parentName) {
            const options = ['ì˜ì—­', 'ë°•ìŠ¤', 'ë¬¼í’ˆ'];
            const choice = prompt(`"${parentName}"ì— ì¶”ê°€í•  í•­ëª© ìœ í˜•ì„ ì„ íƒí•˜ì„¸ìš”:\n\n1. ì˜ì—­\n2. ë°•ìŠ¤\n3. ë¬¼í’ˆ\n\në²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:`);
            
            if (choice && choice >= '1' && choice <= '3') {
                const type = options[parseInt(choice) - 1];
                const name = prompt(`ìƒˆë¡œìš´ ${type}ì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”:`);
                if (name) {
                    alert(`"${parentName}"ì— "${name}" ${type}ì´(ê°€) ì¶”ê°€ë©ë‹ˆë‹¤`);
                    // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ ë°ì´í„° ì¶”ê°€ ë° UI ê°±ì‹ 
                }
            }
        }

        // ì¶”ê°€ ëª¨ë‹¬ ê´€ë ¨ ë³€ìˆ˜
        let currentAddParent = '';
        let currentAddType = 'item';
        let currentEditItem = '';

        // ì¶”ê°€ ëª¨ë‹¬ ì—´ê¸°
        function openAddModal(parentName) {
            currentAddParent = parentName;
            currentAddType = 'item';
            
            // í¼ ì´ˆê¸°í™”
            document.getElementById('addName').value = '';
            document.getElementById('addQuantity').value = '1';
            document.getElementById('addOwner').value = '';
            document.getElementById('addMemo').value = '';
            
            // íƒ€ì… ì„ íƒ ì´ˆê¸°í™”
            document.querySelectorAll('.type-option').forEach(opt => {
                opt.classList.remove('active');
            });
            document.querySelector('.type-option:nth-child(3)').classList.add('active');
            
            // ë¬¼í’ˆ í•„ë“œ í‘œì‹œ
            document.getElementById('addItemFields').style.display = 'block';
            
            // ëª¨ë‹¬ ì—´ê¸°
            document.getElementById('addModal').classList.add('active');
            document.getElementById('addName').focus();
        }

        // ì¶”ê°€ ëª¨ë‹¬ ë‹«ê¸°
        function closeAddModal() {
            document.getElementById('addModal').classList.remove('active');
        }

        // ì¶”ê°€ íƒ€ì… ì„ íƒ
        function selectAddType(type) {
            currentAddType = type;
            
            // íƒ€ì… ì„ íƒ UI ì—…ë°ì´íŠ¸
            document.querySelectorAll('#addModal .type-option').forEach((opt, idx) => {
                opt.classList.remove('active');
                if ((type === 'area' && idx === 0) || 
                    (type === 'box' && idx === 1) || 
                    (type === 'item' && idx === 2)) {
                    opt.classList.add('active');
                }
            });
            
            // ë¬¼í’ˆ í•„ë“œ í‘œì‹œ/ìˆ¨ê¹€
            if (type === 'item') {
                document.getElementById('addItemFields').style.display = 'block';
            } else {
                document.getElementById('addItemFields').style.display = 'none';
            }
        }

        // ì¶”ê°€ ì œì¶œ
        function submitAdd() {
            const name = document.getElementById('addName').value.trim();
            
            if (!name) {
                alert('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
                return;
            }
            
            if (currentAddType === 'item') {
                const quantity = document.getElementById('addQuantity').value;
                const owner = document.getElementById('addOwner').value;
                const memo = document.getElementById('addMemo').value.trim();
                
                alert(`ë¬¼í’ˆ ì¶”ê°€:\nì´ë¦„: ${name}\nìˆ˜ëŸ‰: ${quantity}ê°œ\nì†Œìœ ì: ${owner || 'ê³µìš©'}\në©”ëª¨: ${memo || 'ì—†ìŒ'}\n\n"${currentAddParent}"ì— ì¶”ê°€ë©ë‹ˆë‹¤`);
            } else {
                const typeName = currentAddType === 'area' ? 'ì˜ì—­' : 'ë°•ìŠ¤';
                alert(`${typeName} ì¶”ê°€:\nì´ë¦„: ${name}\n\n"${currentAddParent}"ì— ì¶”ê°€ë©ë‹ˆë‹¤`);
            }
            
            closeAddModal();
            // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ API í˜¸ì¶œ ë° UI ê°±ì‹ 
        }

        // ìˆ˜ì • ëª¨ë‹¬ ì—´ê¸°
        function editItem(event, itemName) {
            event.stopPropagation();
            currentEditItem = itemName;
            const item = demoData[itemName];
            
            // í¼ì— ê¸°ì¡´ ê°’ ì„¤ì •
            document.getElementById('editName').value = itemName;
            
            if (item.type === 'item') {
                // ë¬¼í’ˆì¼ ê²½ìš°
                document.getElementById('editItemFields').style.display = 'block';
                document.getElementById('editQuantity').value = item.quantity || 1;
                document.getElementById('editOwner').value = item.owner ? '0000000001' : '';
                document.getElementById('editMemo').value = item.memo || '';
            } else {
                // ì˜ì—­/ë°•ìŠ¤ì¼ ê²½ìš°
                document.getElementById('editItemFields').style.display = 'none';
            }
            
            // ëª¨ë‹¬ ì—´ê¸°
            document.getElementById('editModal').classList.add('active');
            document.getElementById('editName').focus();
        }

        // ìˆ˜ì • ëª¨ë‹¬ ë‹«ê¸°
        function closeEditModal() {
            document.getElementById('editModal').classList.remove('active');
        }

        // ìˆ˜ì • ì œì¶œ
        function submitEdit() {
            const name = document.getElementById('editName').value.trim();
            
            if (!name) {
                alert('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
                return;
            }
            
            const item = demoData[currentEditItem];
            
            if (item.type === 'item') {
                const quantity = document.getElementById('editQuantity').value;
                const owner = document.getElementById('editOwner').value;
                const memo = document.getElementById('editMemo').value.trim();
                
                alert(`ë¬¼í’ˆ ìˆ˜ì •:\nì´ë¦„: ${currentEditItem} â†’ ${name}\nìˆ˜ëŸ‰: ${quantity}ê°œ\nì†Œìœ ì: ${owner || 'ê³µìš©'}\në©”ëª¨: ${memo || 'ì—†ìŒ'}`);
            } else {
                alert(`ì´ë¦„ ìˆ˜ì •:\n${currentEditItem} â†’ ${name}`);
            }
            
            closeEditModal();
            // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ API í˜¸ì¶œ ë° UI ê°±ì‹ 
        }

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        document.getElementById('addModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeAddModal();
            }
        });

        document.getElementById('editModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeEditModal();
            }
        });

        // ì„ì‹œë³´ê´€í•¨ìœ¼ë¡œ ì¶”ê°€
        function addToTemp(event, itemName) {
            event.stopPropagation();
            alert(`"${itemName}"ì„(ë¥¼) ì„ì‹œë³´ê´€í•¨ì— ì¶”ê°€í–ˆìŠµë‹ˆë‹¤`);
            // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ ì„ì‹œë³´ê´€í•¨ ë°ì´í„° ì—…ë°ì´íŠ¸
        }

        // ì‚­ì œ
        function deleteItem(event, itemName) {
            event.stopPropagation();
            if (confirm(`"${itemName}"ì„(ë¥¼) ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                alert(`"${itemName}"ì´(ê°€) ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤`);
                // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ ë°ì´í„° ì‚­ì œ ë° UI ê°±ì‹ 
            }
        }

        // ì´ˆê¸° ë Œë”ë§
        renderPanels();
    </script>
</body>
</html>